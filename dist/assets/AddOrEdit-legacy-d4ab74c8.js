System.register(["./index-legacy-2c7a9ee1.js","./FolderTree-legacy-6e696cb2.js","./index-legacy-8fd6e17d.js"],(function(e,t){"use strict";var r,n,a,u,l,s,i,c,g,d,o,h,p,b,m,y,f,w,x,_,v,$,C,k;return{setters:[e=>{r=e.b,n=e.d,a=e.cv,u=e.b2,l=e.bj,s=e.y,i=e.aa,c=e.bQ,g=e.bK,d=e.bx,o=e.K,h=e.D,p=e.bk,b=e.n,m=e.ag,y=e.bR,f=e.G,w=e.I,x=e.bJ,_=e.T,v=e.b4,$=e.S,C=e.F},e=>{k=e.a},null],execute:function(){const t=e=>{const t=r();return s(g,{w:"$full",display:"flex",flexDirection:"column",get children(){return[s(d,{get for(){return e.name},display:"flex",alignItems:"center",get children(){return t(`metas.${e.name}`)}}),s(y,{w:"$full",get direction(){return"bool"===e.type?"row":{"@initial":"column","@md":"row"}},gap:"$2",get children(){return[f((()=>f((()=>"string"===e.type))()?s(w,{get id(){return e.name},get value(){return e.value},onInput:t=>e.onChange(t.currentTarget.value)}):f((()=>"bool"===e.type))()?s(x,{get id(){return e.name},get checked(){return e.value},onChange:t=>e.onChange(t.currentTarget.checked)}):s(_,{get id(){return e.name},get value(){return e.value},onChange:t=>e.onChange(t.currentTarget.value)}))),s(g,{w:"fit-content",display:"flex",get children(){return s(v,{css:{whiteSpace:"nowrap"},get id(){return`${e.name}_sub`},onChange:t=>e.onSub(t.currentTarget.checked),color:"$neutral10",fontSize:"$sm",get checked(){return e.sub},get children(){return t("metas.apply_sub")}})}})]}}),s($,{get when(){return e.help},get children(){return s(C,{get children(){return t(`metas.${e.name}_help`)}})}})]}})};e("default",(()=>{const e=r(),{params:y,back:f}=n(),{id:w}=y,[x,_]=a({id:0,path:"",password:"",p_sub:!1,write:!1,w_sub:!1,hide:"",h_sub:!1,readme:"",r_sub:!1,header:"",header_sub:!1}),[v,$]=u((()=>l.get(`/admin/meta/get?id=${w}`)));w&&(async()=>{const e=await $();p(e,_)})();const[C,S]=u((()=>l.post("/admin/meta/"+(w?"update":"create"),x)));return s(m,{get loading(){return v()},get children(){return s(i,{w:"$full",alignItems:"start",spacing:"$2",get children(){return[s(c,{get children(){return e("global."+(w?"edit":"add"))}}),s(g,{w:"$full",display:"flex",flexDirection:"column",required:!0,get children(){return[s(d,{for:"path",display:"flex",alignItems:"center",get children(){return e("metas.path")}}),s(k,{id:"path",get value(){return x.path},onChange:e=>_("path",e)})]}}),s(o,{each:[{name:"password",type:"string",sub:"p_sub"},{name:"write",type:"bool",sub:"w_sub"},{name:"hide",type:"text",sub:"h_sub",help:!0},{name:"header",type:"text",sub:"header_sub",help:!0},{name:"readme",type:"text",sub:"r_sub",help:!0}],children:e=>s(t,{get name(){return e.name},get type(){return e.type},get value(){return x[e.name]},onChange:t=>_(e.name,t),get sub(){return x[e.sub]},onSub:t=>_(e.sub,t),get help(){return e.help}})}),s(h,{get loading(){return C()},onClick:async()=>{const t=await S();p(t,(()=>{b.success(e("global.save_success")),f()}))},get children(){return e("global."+(w?"save":"add"))}})]}})}})}))}}}));
