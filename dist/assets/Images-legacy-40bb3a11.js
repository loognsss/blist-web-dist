System.register(["./index-legacy-2c7a9ee1.js","./style-legacy-1fa33b8a.js","./ImageWithError-legacy-4d4fc75c.js","./obj-legacy-abceba35.js","./icon-legacy-92b0eefb.js","./helper-legacy-01678dc3.js","./GridItem-legacy-98d6b7ec.js","./index-legacy-8fd6e17d.js","./Layout-legacy-0160c372.js","./useTitle-legacy-6aca6f53.js","./FolderTree-legacy-6e696cb2.js","./index-legacy-fd903cfc.js","./index-legacy-8d0dcee3.js","./icons-legacy-0cdf3e7b.js","./index-legacy-f4eb9a60.js"],(function(e,t){"use strict";var r,n,l,i,a,o,s,c,u,g,d,h,p,b,j,m,y,f,x,w,$,_,k,v,C,K,M,S,E,G;return{setters:[e=>{r=e.cX,n=e.H,l=e.y,i=e.au,a=e.aG,o=e.ac,s=e.aa,c=e.bM,u=e.dL,g=e.aK,d=e.S,h=e.aT,p=e.aE,b=e.aF,j=e.am,m=e.b,y=e.G,f=e.K,x=e.a5,w=e.cZ,$=e.o,_=e.bQ,k=e.bR},e=>{v=e.b},e=>{C=e.I},e=>{K=e.O},e=>{M=e.g},e=>{S=e.I,E=e.u},e=>{G=e.G},null,null,null,null,null,null,null,null],execute:function(){const t=e=>{const{isHide:t}=r();if(t(e.obj)||e.obj.type!==K.IMAGE)return null;const{setPathAs:m}=n(),y=l(a,{get color(){return i()},boxSize:"$12",get as(){return M(e.obj)}}),{show:f}=v({id:1}),{rawLink:x}=o(),{openWithDoubleClick:w,toggleWithClick:$,restoreSelectionCache:_}=E();return l(j.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.2},style:{"flex-grow":1},get children(){return l(s,{w:"$full",get classList(){return{selected:!!e.obj.selected}},class:"image-item viselect-item",get"data-index"(){return e.index},p:"$1",spacing:"$1",rounded:"$lg",transition:"all 0.3s",border:"2px solid transparent",get _hover(){return{border:`2px solid ${i()}`}},get cursor(){return w()||$()?"default":"pointer"},onMouseEnter:()=>{m(e.obj.name,e.obj.is_dir,!0)},onContextMenu:t=>{c((()=>{u(e.index,!0,!0)})),f(t,{props:e.obj})},get children(){return l(g,{w:"$full",pos:"relative",get children(){return[l(d,{get when(){return h()},get children(){return l(S,{pos:"absolute",left:"$1",top:"$1","on:mousedown":e=>{e.stopPropagation()},"on:click":e=>{e.stopPropagation()},get checked(){return e.obj.selected},onChange:t=>{u(e.index,t.target.checked)}})}}),l(C,{h:"150px",w:"$full",objectFit:"cover",rounded:"$lg",shadow:"$md",get fallback(){return l(p,{size:"lg"})},fallbackErr:y,get src(){return x(e.obj)},loading:"lazy","on:dblclick":()=>{w()&&(b.emit("gallery",e.obj.name),u(e.index,!0,!0))},"on:click":t=>{if(!w()&&!(t.ctrlKey||t.metaKey||t.shiftKey)&&_())return $()?u(e.index,!e.obj.selected):void b.emit("gallery",e.obj.name)}})]}})}})}})};e("default",(e=>{const r=m(),n=y((()=>l(w,{w:"$full",gap:"$1",templateColumns:"repeat(auto-fill, minmax(100px,1fr))",class:"image-folders",get children(){return l(f,{get each(){return x.objs.filter((e=>e.is_dir))},children:(e,t)=>l(G,{obj:e,get index(){return t()}})})}}))),{isMouseSupported:i,registerSelectContainer:a,captureContentMenu:o}=E();return a(),l(s,{"oncapture:contextmenu":o,class:"viselect-container",spacing:"$2",w:"$full",get children(){return[l(d,{get when(){return"top"===$.show_folder_in_image_view},get children(){return n()}}),l(d,{get when(){return e.images.length>0},get fallback(){return l(_,{m:"$2",get children(){return r("home.no_images")}})},get children(){return l(k,{w:"$full",gap:"$1",flexWrap:"wrap",class:"image-images",get children(){return l(f,{get each(){return x.objs},children:(e,r)=>l(t,{obj:e,get index(){return r()}})})}})}}),l(d,{get when(){return"bottom"===$.show_folder_in_image_view},get children(){return n()}})]}})}))}}}));
